{% extends "core/base.html" %}
{% load static %}
{% block title %}Редактировать профиль{% endblock %}

{% block content %}
<div style="width: 100%; padding: 20px; background-color: #f5f5f5; min-height: 100vh; display: flex; flex-direction: column; align-items: center; gap: 20px;">

  <!--  Первый контейнер: аватар и кнопка "Назад" -->
  <div style="width: 100%; max-width: 1200px; background-color: #fff; border-radius: 16px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); padding: 20px;">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <div style="display: flex; align-items: center; gap: 20px;">
        {% if profile.avatar %}
          <img src="{{ profile.avatar.url }}" alt="Аватар" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover;">
        {% else %}
          <img src="{% static 'images/default-avatar.png' %}" alt="Аватар по умолчанию" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover;">
        {% endif %}
        <h2 style="font-size: 22px; font-weight: 600; margin: 0;">Редактирование профиля</h2>
      </div>

      <!-- Кнопка Назад — синяя -->
      <a href="{% url 'users:profile_view' %}"
         style="background-color: #1d4ed8; color: #fff; padding: 10px 26px; border-radius: 8px; font-weight: 600; text-decoration: none; transition: background-color 0.3s;">
        Назад
      </a>
    </div>
  </div>

  <!--  Второй контейнер: форма редактирования -->
  <div style="width: 100%; max-width: 1200px; background-color: #fff; border-radius: 16px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); padding: 30px;">
    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
      {% endfor %}
    {% endif %}

    <form method="post" enctype="multipart/form-data" style="display: flex; flex-direction: column; gap: 16px;">
      {% csrf_token %}
      <div>
        {{ form.avatar.label_tag }}
        {{ form.avatar }}
      </div>
      <div>
        {{ form.bio.label_tag }}
        {{ form.bio }}
      </div>
      <div>
        {{ form.contact.label_tag }}
        {{ form.contact }}
      </div>

      <!-- Кнопка сохранить -->
      <button type="submit"
              style="width: 20%; align-self: center; background-color: #1d4ed8; color: #fff; font-weight: 100; padding: 5px 0; border: none; border-radius: 8px; cursor: pointer; transition: background-color 0.3s;">
        Сохранить изменения
      </button>
    </form>
  </div>

</div>
{% endblock %}